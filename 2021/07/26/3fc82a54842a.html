<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>从零开始上传开源项目到Maven中央仓库 | mt23のBlog</title><meta name="keywords" content="maven"><meta name="author" content="mt23"><meta name="copyright" content="mt23"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="介绍第一次比较正式的开源的自己的项目，心里还是很激动的，于是迫不及待的想要上传到Maven中央仓库，方便使用者引用。本教程将会从零开始讲解，但是由于时效的变化，在每个过程还是需要读者本身自己思考如何处理遇到问题。 简单讲解一下上传到Maven中央仓库流程 首先我们需要创建一个Sonatype JIRA的账号，这个平台可以理解为一套工单跟踪系统，它和Maven仓库可以说没有关系，也可以有关系。">
<meta property="og:type" content="article">
<meta property="og:title" content="从零开始上传开源项目到Maven中央仓库">
<meta property="og:url" content="https://blog.pettyfox.top/2021/07/26/3fc82a54842a.html">
<meta property="og:site_name" content="mt23のBlog">
<meta property="og:description" content="介绍第一次比较正式的开源的自己的项目，心里还是很激动的，于是迫不及待的想要上传到Maven中央仓库，方便使用者引用。本教程将会从零开始讲解，但是由于时效的变化，在每个过程还是需要读者本身自己思考如何处理遇到问题。 简单讲解一下上传到Maven中央仓库流程 首先我们需要创建一个Sonatype JIRA的账号，这个平台可以理解为一套工单跟踪系统，它和Maven仓库可以说没有关系，也可以有关系。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.pettyfox.top/images/img.jpg">
<meta property="article:published_time" content="2021-07-26T10:20:24.000Z">
<meta property="article:modified_time" content="2021-07-27T01:50:23.398Z">
<meta property="article:author" content="mt23">
<meta property="article:tag" content="maven">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.pettyfox.top/images/img.jpg"><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="https://blog.pettyfox.top/2021/07/26/3fc82a54842a"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '从零开始上传开源项目到Maven中央仓库',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-07-27 09:50:23'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/head/mt-6.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">82</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-th"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tools/"><i class="fa-fw fa fa-gavel"></i><span> 工具</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/img.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">mt23のBlog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-th"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tools/"><i class="fa-fw fa fa-gavel"></i><span> 工具</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">从零开始上传开源项目到Maven中央仓库</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-26T10:20:24.000Z" title="发表于 2021-07-26 18:20:24">2021-07-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-07-27T01:50:23.398Z" title="更新于 2021-07-27 09:50:23">2021-07-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91/">开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="从零开始上传开源项目到Maven中央仓库"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><span id="more"></span>

<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>第一次比较正式的开源的自己的项目，心里还是很激动的，于是迫不及待的想要上传到Maven中央仓库，方便使用者引用。本教程将会从零开始讲解，但是由于时效的变化，在每个过程还是需要读者本身自己思考如何处理遇到问题。</p>
<h1 id="简单讲解一下上传到Maven中央仓库流程"><a href="#简单讲解一下上传到Maven中央仓库流程" class="headerlink" title="简单讲解一下上传到Maven中央仓库流程"></a>简单讲解一下上传到Maven中央仓库流程</h1><ol>
<li>首先我们需要创建一个<code>Sonatype JIRA</code>的账号，这个平台可以理解为一套工单跟踪系统，它和Maven仓库可以说没有关系，也可以有关系。</li>
<li>创建好上述账号后，我们需要创建一个工单，此工单的作用便是新建一个开源的Maven工程</li>
<li>工单创建好后后台管理员会审核你提交的信息，在审核以及各种准备都完成后，你便可以登录给你分配的<code>nexus repository manager</code>平台管理你发布的maven归档。这里需要注意，这并不是中央仓库，这是给你分配的一个maven私服之一，当然最终会同步到中央仓库。</li>
<li>配置我们的开源项目并部署到分配的maven私服。</li>
<li>在私服访问归档是实时的，但是同步到中央仓库是需要时间的。</li>
<li>好了，大体流程就这样，下面我们就一步步来探索吧。</li>
</ol>
<h1 id="Maven-sonatype-账号准备"><a href="#Maven-sonatype-账号准备" class="headerlink" title="Maven(sonatype)账号准备"></a>Maven(sonatype)账号准备</h1><h2 id="1-注册Sonatype-JIRA账号"><a href="#1-注册Sonatype-JIRA账号" class="headerlink" title="1.注册Sonatype JIRA账号"></a>1.注册Sonatype JIRA账号</h2><p><a target="_blank" rel="noopener" href="https://issues.sonatype.org/secure/Signup!default.jspa">https://issues.sonatype.org/secure/Signup!default.jspa</a>这个连接便是注册地址，下方是图片</p>
<img src="/2021/07/26/3fc82a54842a/1627294931396.png" class="">
<p>按照提示注册即可，没有什么需要说的，唯一需要说的就是账号密码记录清楚，毕竟这个不常用。注册完成后就登录</p>
<h2 id="2-创建工单"><a href="#2-创建工单" class="headerlink" title="2.创建工单"></a>2.创建工单</h2><blockquote>
<p>点击下方的Create按钮，界面风格可能在以后有变动，但是大体意思很明确，那就是找到创建工单的地方</p>
</blockquote>
<img src="/2021/07/26/3fc82a54842a/1627294931396.png" class="">

<blockquote>
<p>Proejct选择(Community Support - Open Source Project Repository Hosting (OSSRH)),这里面选项很多，我们选的这个选项意思就是(<code>社区支持的开源项目托管库OSSRH-我们就可以理解为这就是Maven私服仓库</code>)</p>
</blockquote>
<img src="/2021/07/26/3fc82a54842a/1627294931397.png" class="">

<blockquote>
<p>根据下方的表格提示填入内容，这里说明一下</p>
<ul>
<li>Summary就是你的项目名</li>
<li>Description选填</li>
<li><code>GroupId(这个是最重要的，后台管理员审核的也是这个，往下看会专门介绍GroupId如何写,当然这个在创建成功后也可以改)</code></li>
<li>Project URL 你的项目官网或者git地址都可以的</li>
<li>SCM url 你的开源仓库地址，比如github，gitee等等</li>
<li>username 你的牛逼名称</li>
</ul>
</blockquote>
<img src="/2021/07/26/3fc82a54842a/1627294931398.png" class="">
<h2 id="3-验证GroupId"><a href="#3-验证GroupId" class="headerlink" title="3.验证GroupId"></a>3.验证GroupId</h2><p>由于我都已经把所有流程创建好了，所以我只能根据工单的变化日志来写教程了。最开始我的GroupId是<code>org.pettyfox.timeline</code></p>
<img src="/2021/07/26/3fc82a54842a/1627294931401.png" class="">
<p>上图大概意思是说你是否拥有<code>pettyfox.org</code>,本来想去买个.org域名的但是遗憾的发现，目前国内买不了，因此我便更改GroupId为<code>com.pettyfox.timeline</code>，在之前我是拥有<code>pettyfox.com</code>域名的，</p>
<h3 id="基于域名验证"><a href="#基于域名验证" class="headerlink" title="基于域名验证"></a>基于域名验证</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Do you own the domain pettyfox.org? If so, please verify ownership via one of the following methods:</span><br><span class="line"></span><br><span class="line">Add a TXT record to your DNS referencing this JIRA ticket: OSSRH-71087 (Fastest) https://central.sonatype.org/faq/how-to-set-txt-record/</span><br><span class="line">Setup a redirect to your https://github.com/mathcoder23 page (if it does not already exist)</span><br></pre></td></tr></table></figure>
<p>大体意思就是在域名的根解析中加一个TXT类型的解析，并且内容是<code>OSSRH-71087</code>这里你的根据你自己的<code>OSSRH-xxx</code>来更改，这个域名操作应该很简单吧，我就不贴步骤了。这样做的目的很简单，就验证你是否是这个域名的拥有者。</p>
<blockquote>
<p>关于域名与GroupId的关系：如果我们拥有域名 比如<code>opensource.com</code>，那么GroupId必须是<code>com.opensource</code>开头，后面怎么写不重要.</p>
</blockquote>
<h3 id="基于开源仓库的验证"><a href="#基于开源仓库的验证" class="headerlink" title="基于开源仓库的验证"></a>基于开源仓库的验证</h3><p>有时候我们没有域名，并且也不想去买，那么我们可以通过开源仓库的平台来验证，比如GitHub、GitLab、Gitee、Bitbucket、SourceForge<br>下面是官方的引导教程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">If you do not own this domain, please read: https://central.sonatype.org/publish/requirements/coordinates/</span><br><span class="line"></span><br><span class="line">You may also choose a Group ID that reflects your project hosting, in this case, something like io.github.mathcoder23</span><br><span class="line">Edit your Group Id and create public repo called https://github.com/mathcoder23/OSSRH-71087</span><br><span class="line">https://central.sonatype.org/publish/requirements/coordinates/#supported-code-hosting-services-for-personal-groupid</span><br><span class="line"></span><br><span class="line">com.github Group IDs are invalid now but io.github may be used instead. Please read the following for more info: https://central.sonatype.org/changelog/#2021-04-01-comgithub-is-not-supported-anymore-as-a-valid-coordinate</span><br><span class="line"></span><br><span class="line">If you decide to change your Group ID, please edit this ticket and update the Group ID field.</span><br></pre></td></tr></table></figure>
<p>首先你可以进入<a target="_blank" rel="noopener" href="https://central.sonatype.org/publish/requirements/coordinates/"> https://central.sonatype.org/publish/requirements/coordinates/</a>查看详细的步骤。<br>下面是GroupId与项目名称的对应关系，安装对应的教程来操作即可</p>
<img src="/2021/07/26/3fc82a54842a/1627294931402.png" class="">
<p>最关键的一步应该就是创建一个公开仓库名为<code>OSSRH-xxx</code>或者在github的pages网页中创建<code>OSSRH-xxx</code></p>
<blockquote>
<p>GroupId的验证基本上就是这样，其中最关键的还是根据管理员推送的GroupId验证指导来，仔细阅读他说的内容即可，这才是最好的方案，因为这些流程随时可能会更新、废弃等等。</p>
</blockquote>
<h2 id="4-流转工单状态"><a href="#4-流转工单状态" class="headerlink" title="4.流转工单状态"></a>4.流转工单状态</h2><p>这一步的作用就是告诉管理员我们的准备做好了，你帮我处理一下。<br>我这里已经是RESOLVED了，你们的应该是<code>OPEN</code>,我忘记在哪里点了，反正在红框中找到某个按钮将状态改为：<code>WAITING FOR RESPOSE</code>即等待响应</p>
<img src="/2021/07/26/3fc82a54842a/1627294931402.png" class="">

<p>变更OPEN为等待响应状态</p>
<img src="/2021/07/26/3fc82a54842a/1627294931403.png" class="">
<h2 id="5-工单处理完成"><a href="#5-工单处理完成" class="headerlink" title="5.工单处理完成"></a>5.工单处理完成</h2><p>如果一切顺利，大约几分钟就会有结果，结果如下，最终的工单状态会变成<code>RESOLVED</code></p>
<img src="/2021/07/26/3fc82a54842a/1627294931403.png" class="">
<p>第一行的变更组名不过在意，下方的消息就是告诉我已经验证我是<code>com.pettyfox的拥有者</code>,<br>告诉我的Maven私服管理地址是<a target="_blank" rel="noopener" href="https://s01.oss.sonatype.org/">https://s01.oss.sonatype.org</a>这里需要注意的是你的地址到底是哪个需要根据评论的内容来，因为在以前是<code>oss.sonatype.org</code>，我的内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">com.pettyfox.timeline has been prepared, now user(s) pettyfox23 can:</span><br><span class="line">Publish snapshot and release artifacts to s01.oss.sonatype.org</span><br><span class="line">Have a look at this section of our official guide for deployment instructions:</span><br><span class="line">https://central.sonatype.org/publish/publish-guide/#deployment</span><br><span class="line"></span><br><span class="line">Please comment on this ticket when you&#x27;ve released your first component(s), so we can activate the sync to Maven Central.</span><br><span class="line">Depending on your build configuration, this might happen automatically. If not, you can follow the steps in this section of our guide:</span><br><span class="line">https://central.sonatype.org/publish/release/</span><br><span class="line"></span><br><span class="line">######</span><br><span class="line"></span><br><span class="line">As part of our efforts to improve the security and quality posture of the open source supply chain,</span><br><span class="line">we plan to enable additional scanning of dependencies for security alerts soon. Since you&#x27;re already</span><br><span class="line">hosting your source code in Github, you can get insights into code and dependency quality today by enabling</span><br><span class="line">the free Muse code quality scan. This will provide feedback right in your pull requests.</span><br><span class="line">More information can be found at https://www.sonatype.com/product/musedev-maven</span><br><span class="line"></span><br><span class="line">######</span><br></pre></td></tr></table></figure>
<p>上面的文字就是告诉我们Maven仓库地址，以及快照地址、正式版地址<br><code>这里要注意一个坑，Please comment on this ticket when you&#39;ve released your first component(s), so we can activate the sync to Maven Central.这里说了一句你必须评论一次(最下方Comment发一条内容)，才能激活组件同步到中央仓库</code></p>
<h2 id="6-登录nexus-repository-manager"><a href="#6-登录nexus-repository-manager" class="headerlink" title="6.登录nexus repository manager"></a>6.登录nexus repository manager</h2><p>由上述官方回复的内容可知，我们的<code>nexus repository manager</code>地址是<a target="_blank" rel="noopener" href="https://s01.oss.sonatype.org/">https://s01.oss.sonatype.org</a>，并且账号密码与<code>Sonatype JIRA</code>的账号密码相同<br>登录后页面如下</p>
<img src="/2021/07/26/3fc82a54842a/1627294931404.png" class="">
<p>为了后续方便maven打包上传验证，我们申请基于Token的方式验证</p>
<h2 id="7-nexus-repository-manager平台生成User-Token"><a href="#7-nexus-repository-manager平台生成User-Token" class="headerlink" title="7.nexus repository manager平台生成User Token"></a>7.nexus repository manager平台生成User Token</h2><p><code>此步骤可以在后面打包上传时来完成，可以跳过</code><br>在后台右上角点击用户名后，点击Profile</p>
<img src="/2021/07/26/3fc82a54842a/1627294931404.png" class="">
<p> 选择下方下拉框，选中User Token</p>
<img src="/2021/07/26/3fc82a54842a/1627294931404.png" class="">
<p>按照提示创建一个User Token即可，并且保存</p>
<img src="/2021/07/26/3fc82a54842a/1627294931405.png" class="">
<p><code>现在关于账号的准备我们已经全部完成</code></p>
<h1 id="Maven项目打包并上传流程"><a href="#Maven项目打包并上传流程" class="headerlink" title="Maven项目打包并上传流程"></a>Maven项目打包并上传流程</h1><blockquote>
<p>这里说明一下，其实官方引导的文档已经说的很清楚了下面我贴一下地址，可以参考</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://central.sonatype.org/publish/publish-maven/">https://central.sonatype.org/publish/publish-maven/</a></li>
</ul>
<h2 id="打包简要配置说明"><a href="#打包简要配置说明" class="headerlink" title="打包简要配置说明"></a>打包简要配置说明</h2><ol>
<li>在Maven中完善项目基本介绍</li>
<li>配置开发者信息</li>
<li>配置scm开源代码信息</li>
<li>配置分发仓库地址</li>
<li>配置java源码生成插件</li>
<li>配置java-doc生成插件</li>
<li>配置gpg jar包签名插件(作用是保证jar包是你编译的，并且不会被别人篡改)</li>
<li>配置ossrh登录账号</li>
</ol>
<h2 id="1-工程pom-xml配置"><a href="#1-工程pom-xml配置" class="headerlink" title="1.工程pom.xml配置"></a>1.工程pom.xml配置</h2><p>一下的pom是指工程下的pom.xml</p>
<h3 id="pom项目基本信息"><a href="#pom项目基本信息" class="headerlink" title="pom项目基本信息"></a>pom项目基本信息</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>timeline-mq<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>A message queue for timeline. core is redis stream<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>https://github.com/mathcoder23/timeline-mq<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">licenses</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">license</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>The Apache Software License, Version 2.0<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.apache.org/licenses/LICENSE-2.0.txt<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">license</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">licenses</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">developers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">developer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Petty Fox<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">email</span>&gt;</span>mathcoder23@126.com<span class="tag">&lt;/<span class="name">email</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://github.com/mathcoder23<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">developer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">developers</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">scm</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://github.com/mathcoder23/timeline-mq<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">connection</span>&gt;</span>https://github.com/mathcoder23/timeline-mq.git<span class="tag">&lt;/<span class="name">connection</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">developerConnection</span>&gt;</span>https://github.com/mathcoder23/timeline-mq<span class="tag">&lt;/<span class="name">developerConnection</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">scm</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>这一步配置按照理解填写即可</p>
</blockquote>
<h3 id="maven中snapshot与release版区别"><a href="#maven中snapshot与release版区别" class="headerlink" title="maven中snapshot与release版区别"></a>maven中snapshot与release版区别</h3><blockquote>
<p>在maven版本管理中，将jar包划分为两个重要的版本一个是快照版、一个是正式版，快照版意味着可能频繁的更新、变动，因此maven同步时每次都要去拉</p>
</blockquote>
<h3 id="配置分发管理"><a href="#配置分发管理" class="headerlink" title="配置分发管理"></a>配置分发管理</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">id</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://s01.oss.sonatype.org/content/repositories/snapshots<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">id</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>这里需要注意一下，你的私服地址与我的是否一样很重要，你需要去看工单中官方给你回复的指导文档中地址是多少才是多少</code></p>
<img src="/2021/07/26/3fc82a54842a/1627294931405.png" class="">
<img src="/2021/07/26/3fc82a54842a/1627294931406.png" class="">
<h3 id="pom打包插件配置"><a href="#pom打包插件配置" class="headerlink" title="pom打包插件配置"></a>pom打包插件配置</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line">         <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-source-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-sources<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                         <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar-no-fork<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-javadoc-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-javadocs<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                         <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">tags</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">                         <span class="tag">&lt;<span class="name">name</span>&gt;</span>date<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;/<span class="name">tags</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-gpg-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">id</span>&gt;</span>sign-artifacts<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">phase</span>&gt;</span>verify<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                         <span class="tag">&lt;<span class="name">goal</span>&gt;</span>sign<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.sonatype.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>nexus-staging-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">extensions</span>&gt;</span>true<span class="tag">&lt;/<span class="name">extensions</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">serverId</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">serverId</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">nexusUrl</span>&gt;</span>https://s01.oss.sonatype.org/<span class="tag">&lt;/<span class="name">nexusUrl</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">autoReleaseAfterClose</span>&gt;</span>false<span class="tag">&lt;/<span class="name">autoReleaseAfterClose</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>建议上述的pom代码不要不思考的复制粘贴，一定要想它的作用是什么，跟你的环境是否一致</code></p>
<h2 id="2-Gpg-签名工具安装与使用"><a href="#2-Gpg-签名工具安装与使用" class="headerlink" title="2.Gpg 签名工具安装与使用"></a>2.Gpg 签名工具安装与使用</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p><a target="_blank" rel="noopener" href="https://www.gnupg.org/download/">https://www.gnupg.org/download/</a>安装提示下载即可，然后自行安装。安装完成后重启命令行，应该便会有<code>gpg命令</code></p>
<h3 id="生成秘钥"><a href="#生成秘钥" class="headerlink" title="生成秘钥"></a>生成秘钥</h3><p>指定命令 <code>gpg --gen-key</code>，按照提示填入相应信息</p>
<blockquote>
<p>maven-gpg-plugin插件应该会读取Gpg的密钥信息</p>
</blockquote>
<h2 id="3-配置-m2-setting-xml"><a href="#3-配置-m2-setting-xml" class="headerlink" title="3.配置~/.m2/setting.xml"></a>3.配置~/.m2/setting.xml</h2><p>下面配置用于在打包后上传的认证<br>这里的账号密码可以是上述教程生成的<code>User Token</code>也可以是登录密码,<br>需要注意server下的id必须与pom.xml中定义的一致</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">id</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">username</span>&gt;</span>XRLLzbbOaaN<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">password</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="4-打包-部署"><a href="#4-打包-部署" class="headerlink" title="4.打包-部署"></a>4.打包-部署</h2><p><code>mvn clean package</code><br>执行此命令后，就会开始打包，在过程中会提示输入Gpg的密钥密码。</p>
<h1 id="最后流程"><a href="#最后流程" class="headerlink" title="最后流程"></a>最后流程</h1><p>完成打包命令后，我们登录<a target="_blank" rel="noopener" href="https://s01.oss.sonatype.org/">https://s01.oss.sonatype.org/</a></p>
<p>一般我们发布的包，在<code>Staging Repositories</code>，需要经历<code>Close</code>检测，然后在<code>Release</code>,但是有些会自动完成的。假如你发现<code>Staging Repositories</code>有你提交的包，那么你需要<code>Close</code>一下，然后<code>Release</code>，否则你直接在此仓库中搜索就可以搜索到的。<br>如下图</p>
<img src="/2021/07/26/3fc82a54842a/1627294931407.png" class="">
<p>上述完成后我们搜索组件</p>
<img src="/2021/07/26/3fc82a54842a/1627294931407.png" class="">
<p>至此，我们便成功了</p>
<h1 id="坑总结"><a href="#坑总结" class="headerlink" title="坑总结"></a>坑总结</h1><h2 id="中央仓库无法找到我的包"><a href="#中央仓库无法找到我的包" class="headerlink" title="中央仓库无法找到我的包"></a>中央仓库无法找到我的包</h2><p>看下方红框的内容，意思是你需要评论一下这个工单，才会激活将私仓同步到中央仓库的行为。</p>
<img src="/2021/07/26/3fc82a54842a/1627294931408.png" class="">

<img src="/2021/07/26/3fc82a54842a/1627294931408.png" class="">
<p>最后我们点击左下角的<code>Comment</code>评论过后，高兴的收到成功的回复了。大概意思就是说，已经给我开启了同步任务，在<code>https://repo1.maven.org/maven2/</code>可以拉到组件的时间通常在半个小时，在<code>https://search.maven.org </code>可搜索到通常在4个小时。</p>
<h2 id="https-oss-sonatype-org与https-s01-oss-sonatype-org"><a href="#https-oss-sonatype-org与https-s01-oss-sonatype-org" class="headerlink" title="https://oss.sonatype.org与https://s01.oss.sonatype.org"></a><a target="_blank" rel="noopener" href="https://oss.sonatype.org与https//s01.oss.sonatype.org">https://oss.sonatype.org与https://s01.oss.sonatype.org</a></h2><p>在以前的一下教程中，是使用oss这个二级域名，但是2021年二月开始，使用s01这个三级域名<br><code>从这个三级域名来看，后面不保证不会出现s02、s03这样的地址所以自己看自己对应的文档才是最重要的</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">OSSRH Usage Notes⚓︎</span><br><span class="line">Accessing Repositories⚓︎</span><br><span class="line">The following repositories allow you to access your components in OSSRH directly. Users will simply get your components directly via the Central Repository, but for committers and other collaborators on your project this list might be useful.</span><br><span class="line"></span><br><span class="line">Repository URL for snapshot deployment and download access</span><br><span class="line">https://s01.oss.sonatype.org/content/repositories/snapshots/</span><br><span class="line"></span><br><span class="line">Repository URL for release deployment, no download access!</span><br><span class="line"></span><br><span class="line">https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/</span><br><span class="line">Note: As of February 2021, all new projects began being provisioned on https://s01.oss.sonatype.org/. If your project is not provisioned on https://s01.oss.sonatype.org/, you will want to use the legacy host https://oss.sonatype.org/.</span><br></pre></td></tr></table></figure>
<h2 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h2><blockquote>
<p>本教程只能给你一些在流程、注意事项的引导，由于文档的变化与发展，任何时候，我们应该将官方文档作为首要参考，其他的博客内容包含本博客应该是次要参考。sonatype回复的指导流程已经非常详细了。认真理解表达的内容也是避坑的途径。</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">mt23</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blog.pettyfox.top/2021/07/26/3fc82a54842a.html">https://blog.pettyfox.top/2021/07/26/3fc82a54842a.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.pettyfox.top" target="_blank">mt23のBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/maven/">maven</a></div><div class="post_share"><div class="social-share" data-image="/images/img.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/07/26/f783e6e206e5.html"><img class="prev-cover" src="/images/img.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Maven 聚合工程 Could not find artifact 父模块找不到异常</div></div></a></div><div class="next-post pull-right"><a href="/2021/07/26/117ae5406788.html"><img class="next-cover" src="/images/img.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">DrawIO 基于MinIO以及OSS私有云方案</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/07/26/f783e6e206e5.html" title="Maven 聚合工程 Could not find artifact 父模块找不到异常"><img class="cover" src="/images/img.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-26</div><div class="title">Maven 聚合工程 Could not find artifact 父模块找不到异常</div></div></a></div><div><a href="/2021/07/27/382b2269e9ad.html" title="maven 安装jar包到本地"><img class="cover" src="/images/img.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-27</div><div class="title">maven 安装jar包到本地</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/head/mt-6.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">mt23</div><div class="author-info__description">云淡风轻，细腻而严谨</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">82</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/mathcoder23"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%AE%B2%E8%A7%A3%E4%B8%80%E4%B8%8B%E4%B8%8A%E4%BC%A0%E5%88%B0Maven%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93%E6%B5%81%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">简单讲解一下上传到Maven中央仓库流程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven-sonatype-%E8%B4%A6%E5%8F%B7%E5%87%86%E5%A4%87"><span class="toc-number">3.</span> <span class="toc-text">Maven(sonatype)账号准备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%B3%A8%E5%86%8CSonatype-JIRA%E8%B4%A6%E5%8F%B7"><span class="toc-number">3.1.</span> <span class="toc-text">1.注册Sonatype JIRA账号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%B7%A5%E5%8D%95"><span class="toc-number">3.2.</span> <span class="toc-text">2.创建工单</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%AA%8C%E8%AF%81GroupId"><span class="toc-number">3.3.</span> <span class="toc-text">3.验证GroupId</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%9F%9F%E5%90%8D%E9%AA%8C%E8%AF%81"><span class="toc-number">3.3.1.</span> <span class="toc-text">基于域名验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%BC%80%E6%BA%90%E4%BB%93%E5%BA%93%E7%9A%84%E9%AA%8C%E8%AF%81"><span class="toc-number">3.3.2.</span> <span class="toc-text">基于开源仓库的验证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%B5%81%E8%BD%AC%E5%B7%A5%E5%8D%95%E7%8A%B6%E6%80%81"><span class="toc-number">3.4.</span> <span class="toc-text">4.流转工单状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%B7%A5%E5%8D%95%E5%A4%84%E7%90%86%E5%AE%8C%E6%88%90"><span class="toc-number">3.5.</span> <span class="toc-text">5.工单处理完成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%99%BB%E5%BD%95nexus-repository-manager"><span class="toc-number">3.6.</span> <span class="toc-text">6.登录nexus repository manager</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-nexus-repository-manager%E5%B9%B3%E5%8F%B0%E7%94%9F%E6%88%90User-Token"><span class="toc-number">3.7.</span> <span class="toc-text">7.nexus repository manager平台生成User Token</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E5%B9%B6%E4%B8%8A%E4%BC%A0%E6%B5%81%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">Maven项目打包并上传流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E7%AE%80%E8%A6%81%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E"><span class="toc-number">4.1.</span> <span class="toc-text">打包简要配置说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%B7%A5%E7%A8%8Bpom-xml%E9%85%8D%E7%BD%AE"><span class="toc-number">4.2.</span> <span class="toc-text">1.工程pom.xml配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pom%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">4.2.1.</span> <span class="toc-text">pom项目基本信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#maven%E4%B8%ADsnapshot%E4%B8%8Erelease%E7%89%88%E5%8C%BA%E5%88%AB"><span class="toc-number">4.2.2.</span> <span class="toc-text">maven中snapshot与release版区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%88%86%E5%8F%91%E7%AE%A1%E7%90%86"><span class="toc-number">4.2.3.</span> <span class="toc-text">配置分发管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pom%E6%89%93%E5%8C%85%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">4.2.4.</span> <span class="toc-text">pom打包插件配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Gpg-%E7%AD%BE%E5%90%8D%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="toc-number">4.3.</span> <span class="toc-text">2.Gpg 签名工具安装与使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-number">4.3.1.</span> <span class="toc-text">下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E7%A7%98%E9%92%A5"><span class="toc-number">4.3.2.</span> <span class="toc-text">生成秘钥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%85%8D%E7%BD%AE-m2-setting-xml"><span class="toc-number">4.4.</span> <span class="toc-text">3.配置~&#x2F;.m2&#x2F;setting.xml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%89%93%E5%8C%85-%E9%83%A8%E7%BD%B2"><span class="toc-number">4.5.</span> <span class="toc-text">4.打包-部署</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%80%E5%90%8E%E6%B5%81%E7%A8%8B"><span class="toc-number">5.</span> <span class="toc-text">最后流程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9D%91%E6%80%BB%E7%BB%93"><span class="toc-number">6.</span> <span class="toc-text">坑总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%E6%88%91%E7%9A%84%E5%8C%85"><span class="toc-number">6.1.</span> <span class="toc-text">中央仓库无法找到我的包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#https-oss-sonatype-org%E4%B8%8Ehttps-s01-oss-sonatype-org"><span class="toc-number">6.2.</span> <span class="toc-text">https:&#x2F;&#x2F;oss.sonatype.org与https:&#x2F;&#x2F;s01.oss.sonatype.org</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%83%E5%BE%97"><span class="toc-number">6.3.</span> <span class="toc-text">心得</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/07/27/de039b1a717a.html" title="js 判断非空对象的方法">js 判断非空对象的方法</a><time datetime="2021-07-27T01:32:46.000Z" title="发表于 2021-07-27 09:32:46">2021-07-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/07/27/382b2269e9ad.html" title="maven 安装jar包到本地">maven 安装jar包到本地</a><time datetime="2021-07-27T01:32:30.000Z" title="发表于 2021-07-27 09:32:30">2021-07-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/07/27/c77114fde70b.html" title="nginx多域名同ip负载均衡">nginx多域名同ip负载均衡</a><time datetime="2021-07-27T01:32:14.000Z" title="发表于 2021-07-27 09:32:14">2021-07-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/07/27/0e9fe0d1eac7.html" title="xxl-job docker镜像部署">xxl-job docker镜像部署</a><time datetime="2021-07-27T01:31:58.000Z" title="发表于 2021-07-27 09:31:58">2021-07-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/07/27/86ecefa80505.html" title="docker java8镜像 北京上海时间">docker java8镜像 北京上海时间</a><time datetime="2021-07-27T01:31:42.000Z" title="发表于 2021-07-27 09:31:42">2021-07-27</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By mt23</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a><span class="footer-separator">|</span><span> </span><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">蜀ICP备19018857号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>